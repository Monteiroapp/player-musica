<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Gestão de Equipamentos</title>
  <link rel="icon" href="gestao.png" type="image/png">

  <!-- Fonte e Ícones -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

  <!-- CSS externo -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <nav class="sidebar">
      <h2><i class="fas fa-tools"></i> Menu</h2>
      <ul>
        <li><a href="#" onclick="showSection('cadastro')"><i class="fas fa-plus-circle"></i> Cadastro</a></li>
        <li><a href="#" onclick="showSection('pesquisa')"><i class="fas fa-search"></i> Pesquisa</a></li>
        <li><a href="#" onclick="showSection('exclusao')"><i class="fas fa-trash"></i> Exclusão</a></li>
        <li><a href="#" onclick="showSection('relatorio')"><i class="fas fa-table"></i> Relatório</a></li>
      </ul>
    </nav>

    <main class="main-content">
      <!-- Cadastro -->
      <section id="cadastro">
        <h2>Cadastro de Equipamento</h2>
        <form id="cadastroForm">
          <input type="hidden" id="editIndex" value="">
          <label>Data de Entrada: <input type="date" name="dataEntrada" required></label>
          <label>Escola: <input type="text" name="escola" required></label>
          <label>Equipamento: <input type="text" name="equipamento" required></label>
          <label>Quantidade: <input type="number" name="quantidade" required></label>
          <label>Problema Detectado: <input type="text" name="problema" required></label>
          <label>Solucionado:
            <select name="solucionado" required>
              <option value="Sim">Sim</option>
              <option value="Não">Não</option>
            </select>
          </label>
          <label>Data de Saída: <input type="date" name="dataSaida"></label>
          <button type="submit" id="btnSalvar" class="btn-save">Salvar</button>
        </form>
        <div id="mensagemCadastro"></div>
      </section>

      <!-- Pesquisa -->
      <section id="pesquisa" class="hidden">
        <h2>Pesquisar por Escola</h2>
        <input type="text" id="pesquisaEscola" placeholder="Digite o nome da escola" />
        <button onclick="pesquisarEscola()" class="btn-search">Pesquisar</button>
        <ul id="resultadosPesquisa"></ul>
      </section>

      <!-- Exclusão -->
      <section id="exclusao" class="hidden">
        <h2>Excluir por Escola</h2>
        <input type="text" id="excluirEscola" placeholder="Digite o nome da escola" />
        <button onclick="excluirPorEscola()" class="btn-delete">Excluir</button>
        <div id="mensagemExclusao"></div>
      </section>

      <!-- Relatório -->
      <section id="relatorio" class="hidden">
        <h2>Relatório de Escolas</h2>
        <div class="top-buttons">
          <button onclick="carregarRelatorio()" class="btn-search"><i class="fas fa-sync-alt"></i> Atualizar</button>
          <button onclick="exportarExcel()" class="btn-excel"><i class="fas fa-file-excel"></i> Exportar Excel</button>
          <button onclick="exportarPDF()" class="btn-pdf"><i class="fas fa-file-pdf"></i> Exportar PDF</button>
        </div>
        <table>
          <thead>
            <tr>
              <th>Entrada</th>
              <th>Escola</th>
              <th>Equipamento</th>
              <th>Qtd</th>
              <th>Problema</th>
              <th>Solucionado</th>
              <th>Saída</th>
              <th>Ações</th>
            </tr>
          </thead>
          <tbody id="tabelaRelatorio"></tbody>
        </table>
      </section>
    </main>
  </div>

  <!-- Bibliotecas PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>

  <!-- JS externo -->
  <script src="script.js"></script>
</body>
</html>
